import { ArrowRight, Lightbulb, Cog, Rocket } from 'lucide-react';
import { useEffect, useState } from 'react';

const productImages = [
  '/assets/how-it-works/product-1.png',
  '/assets/how-it-works/product-2.png',
  '/assets/how-it-works/product-3.png',
  '/assets/how-it-works/product-4.png',
  '/assets/how-it-works/product-5.png',
];

const HowItWorks = () => {
  const [currentIndex, setCurrentIndex] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setCurrentIndex((prev) => (prev + 1) % productImages.length);
    }, 800);
    return () => clearInterval(interval);
  }, []);

  return (
    <section
      id="how-it-works"
      className="lg:min-h-screen py-24 bg-muted/50"
    >
      <div className="container mx-auto px-6">
        <div className="text-center mb-16">
          <h1 className="text-2xl font-medium text-muted-foreground mb-4 tracking-wider uppercase">
            HOW IT WORKS
          </h1>
          <h2 className="text-4xl lg:text-6xl font-bold mb-6">
            Think of our{' '}
            <span className="text-primary">
              Catalyzer<sup>®</sup>
            </span>{' '}
            tool as an{' '}
            <span className="relative inline-block">
              <span className="relative z-10">Innovation Machine</span>
              <svg
                className="absolute -top-[5%] left-0 w-full h-16 z-0"
                width="648"
                height="78"
                viewBox="0 0 648 78"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_1_1718)">
                  <path
                    d="M35.8861 73.0931C40.5038 70.8698 45.1216 68.6394 49.7309 66.4161C54.0721 64.3202 58.363 61.9624 62.9137 60.2135L57.2065 62.2456C58.12 61.9482 58.9748 61.7216 59.9302 61.5446L53.5777 62.2668C54.4744 62.1819 55.2622 62.1606 56.1505 62.2456L49.798 61.5234C50.4684 61.6367 51.0551 61.7712 51.692 61.9765L45.9848 59.9444C46.7726 60.263 47.4682 60.6241 48.1638 61.0773L43.3281 57.9193C44.1913 58.5495 44.9372 59.2293 45.6579 59.9727L41.9202 55.8872C43.5628 57.6998 44.9121 59.6753 46.4625 61.5446C50.3846 66.3028 53.9129 69.6873 59.5866 72.9586C69.1238 78.446 82.3065 79.055 93.1427 76.4493C103.082 74.0561 111.697 69.0713 118.846 62.8616C123.967 58.415 128.417 53.4515 134.241 49.6209L129.406 52.7788C131.241 51.6388 133.177 50.7042 135.255 49.9253L129.548 51.9575C131.669 51.2282 133.806 50.7042 136.068 50.3927L129.716 51.1149C131.635 50.9095 133.487 50.8883 135.415 51.0795L129.062 50.3573C130.378 50.5413 131.61 50.8246 132.85 51.2352L127.143 49.2031C128.115 49.5784 128.995 49.9961 129.875 50.5059L125.039 47.348C126.062 48.0277 126.95 48.7641 127.763 49.6138L124.025 45.5283C127.084 49.019 128.291 53.2886 130.856 56.9989C137.007 65.9134 148.882 72.8311 161.529 71.9248C168.183 71.4504 174.695 69.9918 180.167 66.6427C184.265 64.129 187.97 61.5234 191.221 58.2592C195.814 53.6639 200.44 49.1465 206.047 45.4079L201.211 48.5659C204.086 46.7178 207.111 45.1247 210.421 43.8927L204.714 45.9248C207.421 44.9902 210.187 44.3246 213.078 43.9422L206.726 44.6644C209.282 44.3954 211.779 44.36 214.344 44.6007L207.991 43.8785C210.204 44.1617 212.257 44.6361 214.318 45.3583L208.611 43.3262C210.195 43.9564 211.645 44.6928 213.053 45.5778L208.217 42.4199C214.075 46.3496 217.704 51.9504 222.909 56.4041C234.147 66.0266 249.35 69.574 264.929 66.6214C276.612 64.4052 286.861 58.0326 296.792 52.7009C301.494 50.1802 306.187 47.6525 310.889 45.1318C315.213 42.8093 319.496 40.1399 324.164 38.3273L318.456 40.3594C319.705 39.9417 320.912 39.6443 322.244 39.4602L315.892 40.1824C316.772 40.1187 317.585 40.1187 318.465 40.1683L312.112 39.446C313.244 39.5876 314.283 39.8142 315.356 40.147L309.648 38.1149C310.981 38.6105 312.163 39.2124 313.336 39.9417L308.5 36.7837C309.908 37.7538 311.132 38.8159 312.28 40.0054L308.542 35.9199C310.21 37.7821 311.534 39.7647 312.623 41.9101L310.218 37.0882C312.833 42.4694 314.853 47.9923 317.836 53.2603C321.339 59.4558 326.929 64.1857 333.382 68.1933C344.964 75.3872 359.857 75.812 373.467 74.0065C384.177 72.5833 394.326 68.3562 403.285 63.3289C412.244 58.3017 419.988 53.0479 429.492 49.5501L423.784 51.5822C427.128 50.4139 430.548 49.5005 434.126 49.019L427.774 49.7412C429.81 49.5288 431.771 49.4863 433.808 49.6846L427.455 48.9624C428.796 49.1606 430.028 49.4509 431.285 49.8828L425.578 47.8507C426.709 48.311 427.732 48.8349 428.729 49.4793L423.893 46.3213C425.025 47.1214 426.005 47.9994 426.919 48.9765L423.181 44.891C425.259 47.2489 426.785 49.8758 428.327 52.5027C430.816 56.744 433.581 60.3126 437.177 64.0228C445.323 72.4275 458.145 76.3856 470.674 76.8246C480.421 77.1644 490.536 74.9836 499.512 71.8752C510.113 68.2004 520.287 63.7892 530.562 59.5054C541.382 54.9951 552.1 50.1377 563.121 45.9885L557.414 48.0206C559.257 47.3692 561.101 46.8453 563.071 46.5337L556.718 47.2559C557.992 47.1214 559.174 47.1073 560.448 47.2418L554.095 46.5196C554.707 46.6045 555.302 46.7532 555.88 46.9444L550.173 44.9123C551.044 45.2521 551.732 45.5991 552.494 46.0876L547.659 42.9297C548.329 43.4466 548.891 43.9564 549.452 44.5511L545.714 40.4656C548.932 44.3246 550.81 49.0898 553.073 53.3807C555.654 58.2592 558.227 63.1378 560.808 68.0234C562.995 72.1655 569.993 76.3148 575.08 77.299C581.056 78.446 588.263 78.3469 593.484 75.2668C599.066 71.9744 604.186 68.3916 608.569 64.0016C612.952 59.6116 616.916 54.9455 621.048 50.3927L617.31 54.4782C620.662 50.8175 624.14 47.2559 628.473 44.3883L623.638 47.5462C626.353 45.8398 629.211 44.4308 632.32 43.312L626.613 45.3442C627.836 44.9406 629.068 44.5866 630.334 44.275C636.15 42.8589 641.539 39.4319 644.606 34.9994C647.673 30.5669 648.872 24.3006 647.011 19.4504C643.064 9.14102 630.493 2.23034 617.629 5.35289C607.505 7.80986 598.001 12.561 590.593 18.891C584.592 24.0174 579.765 30.0925 574.594 35.7995L578.332 31.714C574.862 35.5021 571.217 39.1345 566.8 42.1579L571.636 39C570.89 39.4885 570.136 39.9558 569.356 40.4161L602.032 47.6525C597.658 39.3611 593.685 30.7864 588.799 22.7004C584.534 15.641 576.773 9.89864 567.663 7.77446C557.623 5.43786 548.111 7.66825 538.968 11.1448C519.667 18.4733 501.339 27.6568 481.896 34.702L487.603 32.6699C482.114 34.61 476.465 36.196 470.557 36.9183L476.909 36.196C473.867 36.5147 470.858 36.5855 467.816 36.2527L474.169 36.9749C472.325 36.7271 470.573 36.3447 468.83 35.7783L474.538 37.8104C472.794 37.1802 471.227 36.4155 469.719 35.4526L474.554 38.6105C473.096 37.598 471.847 36.4934 470.691 35.2401L474.429 39.3257C472.258 36.812 470.657 34.0294 469.023 31.2467C466.593 27.1116 463.802 23.5147 460.207 19.9602C449.739 9.6225 432.844 7.51956 417.91 10.6988C407.559 12.9008 398.031 17.4961 389.298 22.5588C382.049 26.7647 374.975 31.36 366.846 34.2984L372.553 32.2663C368.589 33.6328 364.525 34.6241 360.293 35.1552L366.645 34.433C363.368 34.787 360.125 34.8507 356.84 34.5108L363.192 35.2331C360.846 34.9357 358.6 34.433 356.412 33.6612L362.12 35.6933C360.443 35.049 358.918 34.2913 357.443 33.3567L362.279 36.5147C360.98 35.6225 359.823 34.6595 358.751 33.5762L362.488 37.6617C360.737 35.7429 359.404 33.6541 358.264 31.4379L360.67 36.2598C359.069 33.0027 357.82 29.6323 356.245 26.3752C353.353 20.4063 350.529 15.7968 345.442 10.8828C334.757 0.559317 317.761 -2.84646 302.86 2.464C293.373 5.84853 284.833 11.3006 276.168 15.9596C268.139 20.2717 260.202 25.2494 251.411 28.4003L257.118 26.3681C254.856 27.1187 252.61 27.6851 250.213 28.0108L256.565 27.2886C254.881 27.4515 253.263 27.4798 251.579 27.3453L257.931 28.0675C256.389 27.8692 254.948 27.5577 253.498 27.0833L259.205 29.1154C257.563 28.5065 256.096 27.763 254.671 26.8567L259.507 30.0147C253.716 26.0849 250.112 20.47 244.908 16.0729C239.703 11.6759 233.334 8.35507 226.135 6.13176C220.587 4.42533 214.034 3.69603 208.142 4.15627C199.686 4.82184 193.065 6.32293 185.405 9.36052C179.74 11.6051 174.67 15.0179 169.96 18.4379C163.096 23.4297 158.277 30.2058 151.204 34.9286L156.039 31.7706C154.833 32.5141 153.617 33.1372 152.26 33.6612L157.967 31.629C157.162 31.8839 156.408 32.0751 155.57 32.2238L161.923 31.5016C161.068 31.5936 160.305 31.6149 159.442 31.5795L165.795 32.3017C164.973 32.1955 164.236 32.0539 163.448 31.8273L169.155 33.8594C168.325 33.562 167.596 33.2151 166.867 32.7761L171.703 35.934C170.848 35.3464 170.127 34.702 169.457 33.9656L173.195 38.0511C171.477 35.9978 170.362 33.6753 169.197 31.3741C167.63 28.287 165.836 25.7734 163.398 23.104C155.503 14.4727 142.681 9.53753 129.699 10.7342C122.14 11.4351 116.458 12.7521 109.569 15.6623C104.783 17.6802 100.526 20.7178 96.6458 23.805C90.6117 28.6127 85.818 34.44 79.2308 38.7592L84.0664 35.6013C82.164 36.7696 80.1694 37.7396 78.024 38.5539L83.7312 36.5217C81.5606 37.2723 79.3733 37.8175 77.0518 38.129L83.4044 37.4068C81.7282 37.5767 80.094 37.6122 78.4011 37.4776L84.7537 38.1998C83.396 38.037 82.1221 37.775 80.8315 37.3714L86.5387 39.4035C85.2565 38.9362 84.1251 38.3769 83.0189 37.6617L87.8545 40.8197C86.7147 39.9912 85.7426 39.092 84.8291 38.0866L88.5669 42.1721C85.1727 38.2848 82.449 34.1285 78.5352 30.5315C72.3 24.7962 62.7545 21.3905 53.5609 21.8932C44.3673 22.3959 36.2465 26.4106 28.1592 30.312C22.6866 32.9531 17.214 35.5871 11.7499 38.2282C6.57061 40.7276 2.35514 45.4504 0.771202 50.2864C-0.81274 55.1225 -0.0920044 61.5517 3.17645 65.8355C10.2497 75.0969 24.237 78.6797 35.8526 73.0718L35.8861 73.0931Z"
                    fill="#CEFC85"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_1_1718">
                    <rect
                      width="648"
                      height="78"
                      fill="white"
                    />
                  </clipPath>
                </defs>
              </svg>
            </span>
          </h2>
        </div>

        <div className="flex flex-col lg:flex-row items-center justify-center space-y-8 lg:space-y-0 lg:space-x-12 max-w-6xl mx-auto">
          {/* Input */}
          <div className="text-center">
            <div className="mb-6">
              <div className="inline-flex space-x-4">
                <img
                  src="/assets/how-it-works/icon-bulb.png"
                  alt="Innovation flow"
                  className="w-60 h-auto mx-auto"
                />
                {/* <div className="w-16 h-16 bg-primary rounded-full flex items-center justify-center">
                  <Lightbulb className="w-8 h-8 text-white" />
                </div>
                <div className="w-16 h-16 bg-brand-cyan rounded-full flex items-center justify-center">
                  <Lightbulb className="w-8 h-8 text-white" />
                </div>
                <div className="w-16 h-16 bg-primary/70 rounded-full flex items-center justify-center">
                  <Lightbulb className="w-8 h-8 text-white" />
                </div> */}
              </div>
            </div>
            <h3 className="text-xl font-bold mb-2">In go your best</h3>
            <p className="text-muted-foreground">new product & service ideas</p>
          </div>

          {/* Arrow */}
          <div className="hidden lg:block">
            <ArrowRight
              className="w-16 h-16 text-brand-lime"
              strokeWidth={6}
            />
          </div>

          {/* Process */}
          <div className="text-center">
            <div className="mb-6">
              <div className="relative">
                <img
                  src="/assets/how-it-works/icon-gear.png"
                  alt="Innovation flow"
                  className="w-60 h-auto mx-auto"
                />
              </div>
              {/* <div className="w-24 h-24 bg-gradient-card rounded-2xl flex items-center justify-center mx-auto">
                  <Cog className="w-12 h-12 text-white animate-spin-slow" />
                </div>
                <div className="absolute -top-2 -right-2 w-8 h-8 bg-brand-lime rounded-full flex items-center justify-center">
                  <Lightbulb className="w-4 h-4 text-black" />
                </div>
                <div className="absolute -bottom-2 -left-2 w-8 h-8 bg-brand-cyan rounded-full flex items-center justify-center">
                  <Lightbulb className="w-4 h-4 text-white" />
                </div>
              </div> */}
            </div>
            <p className="text-sm text-muted-foreground">Sparked by</p>
            <p className="text-lg font-bold">our 64 types of innovation</p>
          </div>

          {/* Arrow */}
          <div className="hidden lg:block">
            <ArrowRight
              className="w-16 h-16 text-brand-lime"
              strokeWidth={6}
            />
          </div>

          {/* Output */}
          <div className="text-center">
            <div className="mb-6">
              {/* <div className="w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto shadow-glow">
                <Rocket className="w-12 h-12 text-white" />
              </div> */}
              <img
                src={productImages[currentIndex]}
                alt="Product outcome"
                className="w-60 h-60 items-center justify-center mx-auto shadow-glow rounded-sm"
              />
            </div>
            <h3 className="text-xl font-bold mb-2">Out come</h3>
            <p className="text-muted-foreground">
              finished product ideas to test
            </p>
          </div>
        </div>

        <div className="text-center mt-16">
          <p className="text-lg text-muted-foreground max-w-4xl mx-auto">
            From ideas to testable products, Catalyzer<sup>®</sup> simplifies
            innovation &amp; makes it more systematic, complete, &amp; creative
            with our proprietary AI &amp; Catalyzing Innovation<sup>®</sup>{' '}
            Database
          </p>
        </div>
      </div>
    </section>
  );
};

export default HowItWorks;
